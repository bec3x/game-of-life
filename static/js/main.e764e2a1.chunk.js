(this["webpackJsonpgame-of-life"]=this["webpackJsonpgame-of-life"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),o=n(8),l=n.n(o),s=(n(7),n(2)),c=n(3),r=n(5),d=n(4),h=n(0),u=function(e){Object(r.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,i=e.CELL_SIZE;return Object(h.jsx)("div",{className:"cell",style:{left:"".concat(i*t+1,"px"),top:"".concat(i*n+1,"px"),width:"".concat(i-1,"px"),height:"".concat(i-1,"px")}})}}]),n}(i.Component),b=20,m=window.innerWidth%b,f=window.innerHeight%b,j=window.innerWidth-m,v=window.innerHeight-f-40,x=function(e){Object(r.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).state={cells:[],interval:50,isRunning:!1},e.runGame=function(){e.setState({isRunning:!0}),e.runIteration()},e.stopGame=function(){e.setState({isRunning:!1}),window.clearTimeout(e.timeoutHandler),e.timeoutHandler=null},e.handleIntervalChange=function(t){e.setState({interval:t.target.value})},e.handleClick=function(t){var n=e.getElementOffset(),i=t.clientX-n.x,a=t.clientY-n.y,o=Math.floor(i/b),l=Math.floor(a/b);o>=0&&o<=e.cols&&l>=0&&l<=e.rows&&(e.board[l][o]=!e.board[l][o]),e.setState({cells:e.makeCells()})},e.handleClear=function(){e.board=e.makeEmptyBoard(),e.setState({cells:e.makeCells()})},e.handleRandom=function(){for(var t=0;t<e.rows;t++)for(var n=0;n<e.cols;n++)Math.random()>=.5?e.board[t][n]=!0:e.board[t][n]=!1;e.setState({cells:e.makeCells()})},e.showRules=function(){document.getElementById("rules-modal").style.display="block"},e.hideRules=function(e){document.getElementById("rules-modal").style.display="none"},e.rows=v/b,e.cols=j/b,e.board=e.makeEmptyBoard(),e}return Object(c.a)(n,[{key:"runIteration",value:function(){for(var e=this,t=this.makeEmptyBoard(),n=0;n<this.rows;n++)for(var i=0;i<this.cols;i++){var a=this.calculateNeighbors(this.board,i,n);this.board[n][i]?t[n][i]=2===a||3===a:this.board[n][i]||3!==a||(t[n][i]=!0)}this.board=t,this.setState({cells:this.makeCells()}),this.timeoutHandler=window.setTimeout((function(){e.runIteration()}),this.state.interval)}},{key:"calculateNeighbors",value:function(e,t,n){for(var i=0,a=[[-1,-1],[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1]],o=0;o<a.length;o++){var l=a[o],s=n+l[0],c=t+l[1];c>=0&&c<this.cols&&s>=0&&s<this.rows&&e[s][c]&&i++}return i}},{key:"makeEmptyBoard",value:function(){for(var e=[],t=0;t<this.rows;t++){e[t]=[];for(var n=0;n<this.cols;n++)e[t][n]=!1}return e}},{key:"makeCells",value:function(){for(var e=[],t=0;t<this.rows;t++)for(var n=0;n<this.cols;n++)this.board[t][n]&&e.push({x:n,y:t});return e}},{key:"getElementOffset",value:function(){var e=this.boardRef.getBoundingClientRect(),t=document.documentElement;return{x:e.left+window.pageXOffset-t.clientLeft,y:e.top+window.pageYOffset-t.clientTop}}},{key:"render",value:function(){var e=this,t=this.state,n=t.cells,i=t.interval,a=t.isRunning;return Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"controls",children:[Object(h.jsx)("h1",{children:"Conway's Game of Life"}),"Update every ",Object(h.jsx)("input",{value:i,onChange:this.handleIntervalChange})," msec",a?Object(h.jsx)("button",{className:"button",onClick:this.stopGame,children:"Stop"}):Object(h.jsx)("button",{className:"button",onClick:this.runGame,children:"Run"}),Object(h.jsx)("button",{className:"button",onClick:this.handleClear,children:"Clear"}),Object(h.jsx)("button",{className:"button",onClick:this.handleRandom,children:"Random"}),Object(h.jsx)("button",{id:"btn-modal",className:"button",onClick:this.showRules,children:"Rules"}),Object(h.jsx)("div",{id:"rules-modal",className:"modal",children:Object(h.jsxs)("div",{className:"modal-content",children:[Object(h.jsxs)("div",{className:"modal-header",children:[Object(h.jsx)("span",{className:"close",onClick:this.hideRules,children:"\xd7"}),Object(h.jsx)("h2",{children:"Rules of Conway's Game of Life"})]}),Object(h.jsx)("div",{className:"modal-body",children:Object(h.jsxs)("ol",{children:[Object(h.jsx)("li",{children:"Any live cell with fewer than two neighbors dies, as if caused by underpopulation."}),Object(h.jsx)("li",{children:"Any live cell with two or three live neighbors lives on to the next generation."}),Object(h.jsx)("li",{children:"Any live cell with more than three live neighbors dies, as if by overpopulation."}),Object(h.jsx)("li",{children:"Any dead cell with exactly three live neighbors becomes a live celll, as if by reproduction."})]})})]})})]}),Object(h.jsx)("div",{className:"board",style:{width:j,height:v,backgroundSize:"".concat(b,"px ").concat(b,"px")},onClick:this.handleClick,ref:function(t){e.boardRef=t},children:n.map((function(e){return Object(h.jsx)(u,{x:e.x,y:e.y,CELL_SIZE:b},"".concat(e.x,", ").concat(e.y))}))})]})}}]),n}(i.Component);n(14);var p=function(){return Object(h.jsx)("div",{children:Object(h.jsx)(x,{})})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,o=t.getLCP,l=t.getTTFB;n(e),i(e),a(e),o(e),l(e)}))};l.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(p,{})}),document.getElementById("root")),y()},7:function(e,t,n){}},[[15,1,2]]]);
//# sourceMappingURL=main.e764e2a1.chunk.js.map